<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Шинка – Онлайн запись</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Arial, sans-serif;
        }
        
        body {
            background: linear-gradient(135deg, #1a1a1a 0%, #2d2d2d 100%);
            color: #fff;
            min-height: 100vh;
            padding: 20px;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: rgba(255, 255, 255, 0.05);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            border: 1px solid rgba(255, 255, 255, 0.1);
            overflow: hidden;
            box-shadow: 0 20px 50px rgba(0, 0, 0, 0.5);
        }
        
        header {
            background: linear-gradient(90deg, #e63946 0%, #ff6b6b 100%);
            padding: 25px 40px;
            text-align: center;
            border-bottom: 5px solid #ffd166;
        }
        
        h1 {
            font-size: 2.8rem;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
        }
        
        .subtitle {
            font-size: 1.2rem;
            opacity: 0.9;
        }
        
        .nav {
            display: flex;
            justify-content: center;
            gap: 40px;
            padding: 20px;
            background: rgba(0, 0, 0, 0.3);
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .nav a {
            color: #ffd166;
            text-decoration: none;
            font-size: 1.1rem;
            font-weight: 600;
            transition: all 0.3s;
            padding: 8px 16px;
            border-radius: 8px;
        }
        
        .nav a:hover {
            background: rgba(255, 209, 102, 0.1);
            transform: translateY(-2px);
        }
        
        .main-content {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 40px;
            padding: 40px;
        }
        
        @media (max-width: 900px) {
            .main-content {
                grid-template-columns: 1fr;
            }
        }
        
        .services-section {
            background: rgba(255, 255, 255, 0.05);
            padding: 30px;
            border-radius: 15px;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        h2 {
            color: #ffd166;
            margin-bottom: 25px;
            padding-bottom: 10px;
            border-bottom: 2px solid #e63946;
            font-size: 1.8rem;
        }
        
        .services-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 15px;
            margin-bottom: 30px;
        }
        
        @media (max-width: 500px) {
            .services-grid {
                grid-template-columns: 1fr;
            }
        }
        
        .service-item {
            background: rgba(255, 255, 255, 0.08);
            padding: 15px;
            border-radius: 10px;
            border-left: 4px solid #e63946;
            transition: all 0.3s;
        }
        
        .service-item:hover {
            background: rgba(255, 255, 255, 0.12);
            transform: translateX(5px);
        }
        
        .service-item i {
            color: #ffd166;
            margin-right: 10px;
        }
        
        .form-section {
            background: rgba(255, 255, 255, 0.05);
            padding: 30px;
            border-radius: 15px;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .form-group {
            margin-bottom: 25px;
        }
        
        label {
            display: block;
            margin-bottom: 8px;
            color: #ffd166;
            font-weight: 600;
        }
        
        input, select, textarea {
            width: 100%;
            padding: 14px 18px;
            background: rgba(255, 255, 255, 0.08);
            border: 2px solid rgba(255, 255, 255, 0.1);
            border-radius: 10px;
            color: #fff;
            font-size: 16px;
            transition: all 0.3s;
        }
        
        input:focus, select:focus, textarea:focus {
            outline: none;
            border-color: #e63946;
            background: rgba(255, 255, 255, 0.12);
        }
        
        .datetime-container {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
        }
        
        .time-slots {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 10px;
            margin-top: 10px;
            max-height: 200px;
            overflow-y: auto;
            padding: 10px;
            background: rgba(0, 0, 0, 0.2);
            border-radius: 8px;
        }
        
        .time-slot {
            padding: 12px 5px;
            text-align: center;
            background: rgba(255, 255, 255, 0.08);
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s;
            font-weight: 500;
            border: 2px solid transparent;
        }
        
        .time-slot:hover {
            background: rgba(230, 57, 70, 0.2);
        }
        
        .time-slot.selected {
            background: #e63946;
            color: white;
            border-color: #ffd166;
            box-shadow: 0 0 10px rgba(230, 57, 70, 0.5);
        }
        
        .time-slot.booked {
            background: rgba(255, 255, 255, 0.05);
            color: #888;
            cursor: not-allowed;
            opacity: 0.6;
        }
        
        .submit-btn {
            width: 100%;
            padding: 18px;
            background: linear-gradient(90deg, #e63946 0%, #ff6b6b 100%);
            color: white;
            border: none;
            border-radius: 12px;
            font-size: 1.2rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            margin-top: 20px;
            letter-spacing: 1px;
        }
        
        .submit-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 10px 25px rgba(230, 57, 70, 0.4);
        }
        
        .submit-btn:active {
            transform: translateY(0);
        }
        
        .contacts {
            text-align: center;
            padding: 30px;
            background: rgba(0, 0, 0, 0.3);
            margin-top: 40px;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .phone {
            font-size: 1.8rem;
            color: #ffd166;
            margin: 15px 0;
            font-weight: 600;
        }
        
        .phone i {
            margin-right: 10px;
        }
        
        .working-hours {
            color: #aaa;
            font-size: 1rem;
            margin-top: 10px;
        }
        
        .interval-notice {
            background: rgba(255, 209, 102, 0.1);
            border: 1px solid rgba(255, 209, 102, 0.3);
            border-radius: 10px;
            padding: 15px;
            margin-top: 20px;
            text-align: center;
        }
        
        .interval-notice i {
            color: #ffd166;
            margin-right: 8px;
        }
        
        .notification {
            position: fixed;
            top: 20px;
            right: 20px;
            padding: 20px 30px;
            background: linear-gradient(90deg, #2a9d8f 0%, #4cc9f0 100%);
            color: white;
            border-radius: 12px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
            z-index: 1000;
            transform: translateX(150%);
            transition: transform 0.5s cubic-bezier(0.68, -0.55, 0.265, 1.55);
            max-width: 350px;
        }
        
        .notification.show {
            transform: translateX(0);
        }
        
        .notification h3 {
            margin-bottom: 5px;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .notification h3 i {
            font-size: 1.5rem;
        }
        
        footer {
            text-align: center;
            padding: 25px;
            color: #aaa;
            font-size: 0.9rem;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
            margin-top: 40px;
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1><i class="fas fa-car"></i> ШИНКА</h1>
            <p class="subtitle">Профессиональный шиномонтаж и автосервис</p>
        </header>
        
        <nav class="nav">
            <a href="#"><i class="fas fa-wrench"></i> УСЛУГИ</a>
            <a href="#"><i class="fas fa-tag"></i> ЦЕНЫ</a>
            <a href="#"><i class="fas fa-gift"></i> АКЦИИ</a>
            <a href="#"><i class="fas fa-calendar-alt"></i> ФОРМА ЗАПИСИ</a>
        </nav>
        
        <div class="main-content">
            <div class="services-section">
                <h2><i class="fas fa-check-circle"></i> Доступные услуги:</h2>
                <div class="services-grid">
                    <div class="service-item">
                        <i class="fas fa-sync-alt"></i> Сезонная замена шин
                    </div>
                    <div class="service-item">
                        <i class="fas fa-balance-scale"></i> Балансировка колес
                    </div>
                    <div class="service-item">
                        <i class="fas fa-tools"></i> Ремонт шин
                    </div>
                    <div class="service-item">
                        <i class="fas fa-wind"></i> Диагностика кондиционера
                    </div>
                    <div class="service-item">
                        <i class="fas fa-gas-pump"></i> Заправка кондиционера
                    </div>
                    <div class="service-item">
                        <i class="fas fa-cogs"></i> Проточка тормозных дисков
                    </div>
                </div>
                
                <div class="interval-notice">
                    <i class="fas fa-clock"></i>
                    <strong>Внимание!</strong> Запись доступна с интервалом <strong>30 минут</strong>. 
                    Выберите удобное время из доступных слотов.
                </div>
            </div>
            
            <div class="form-section">
                <h2><i class="fas fa-calendar-plus"></i> Форма записи</h2>
                
                <form id="bookingForm">
                    <div class="form-group">
                        <label for="clientName"><i class="fas fa-user"></i> ИМЯ</label>
                        <input type="text" id="clientName" placeholder="Иван" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="clientPhone"><i class="fas fa-phone"></i> ТЕЛЕФОН</label>
                        <input type="tel" id="clientPhone" placeholder="+7 927 711-78-86" pattern="^\+7\s?[\(]?\d{3}[\)]?\s?\d{3}[\s-]?\d{2}[\s-]?\d{2}$" required>
                    </div>
                    
                    <div class="form-group">
                        <label><i class="fas fa-calendar-day"></i> ДАТА И ВРЕМЯ</label>
                        <div class="datetime-container">
                            <div>
                                <input type="date" id="bookingDate" required>
                            </div>
                            <div>
                                <input type="text" id="bookingTime" placeholder="10:42" readonly required>
                            </div>
                        </div>
                        
                        <div class="time-slots" id="timeSlots">
                            <!-- Временные слоты будут сгенерированы здесь -->
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label for="serviceType"><i class="fas fa-wrench"></i> ТИП УСЛУГИ</label>
                        <select id="serviceType" required>
                            <option value="">Выберите услугу</option>
                            <option value="season_change">Сезонная замена шин</option>
                            <option value="balancing">Балансировка колес</option>
                            <option value="tire_repair">Ремонт шин</option>
                            <option value="ac_diagnostic">Диагностика кондиционера</option>
                            <option value="ac_refill">Заправка кондиционера</option>
                            <option value="brake_turning">Проточка тормозных дисков</option>
                            <option value="other">Другая услуга</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label for="comment"><i class="fas fa-comment-alt"></i> КОММЕНТАРИЙ</label>
                        <textarea id="comment" rows="4" placeholder="Госномер, Марка авто, размер шин и т.п."></textarea>
                    </div>
                    
                    <button type="submit" class="submit-btn">
                        <i class="fas fa-calendar-check"></i> ПОДТВЕРДИТЬ ЗАПИСЬ
                    </button>
                </form>
            </div>
        </div>
        
        <div class="contacts">
            <h3><i class="fas fa-address-book"></i> КОНТАКТЫ</h3>
            <div class="phone">
                <i class="fas fa-phone-alt"></i> +7 927 711-78-86
            </div>
            <p class="working-hours">
                <i class="fas fa-clock"></i> Работаем: Пн-Пт 9:00-20:00, Сб 10:00-18:00, Вс 10:00-16:00
            </p>
        </div>
        
        <footer>
            <p>© 2024 Шинка – Профессиональный шиномонтаж. Все права защищены.</p>
        </footer>
    </div>
    
    <div class="notification" id="notification">
        <h3><i class="fas fa-check-circle"></i> Запись подтверждена!</h3>
        <p id="notificationText"></p>
    </div>
    
    <script>
        // Конфигурация системы
        const CONFIG = {
            workHours: { 
                weekday: { start: 9, end: 20 },   // Пн-Пт: 9:00-20:00
                saturday: { start: 10, end: 18 }, // Сб: 10:00-18:00
                sunday: { start: 10, end: 16 }    // Вс: 10:00-16:00
            },
            interval: 30, // 30 минут интервал записи
            breaks: [
                { start: '13:00', end: '14:00' } // Обеденный перерыв
            ]
        };

        // Инициализация при загрузке
        document.addEventListener('DOMContentLoaded', function() {
            initDatePicker();
            generateTimeSlots();
            loadBookedSlots();
        });

        // Настройка выбора даты
        function initDatePicker() {
            const datePicker = document.getElementById('bookingDate');
            const today = new Date();
            
            // Минимальная дата - сегодня
            datePicker.min = today.toISOString().split('T')[0];
            
            // Максимальная дата - через 60 дней
            const maxDate = new Date(today);
            maxDate.setDate(maxDate.getDate() + 60);
            datePicker.max = maxDate.toISOString().split('T')[0];
            
            // Установить завтрашнюю дату по умолчанию
            const tomorrow = new Date(today);
            tomorrow.setDate(tomorrow.getDate() + 1);
            datePicker.value = tomorrow.toISOString().split('T')[0];
            
            // Обновлять слоты при изменении даты
            datePicker.addEventListener('change', generateTimeSlots);
        }

        // Генерация временных слотов с интервалом 30 минут
        function generateTimeSlots() {
            const dateStr = document.getElementById('bookingDate').value;
            if (!dateStr) return;
            
            const date = new Date(dateStr);
            const dayOfWeek = date.getDay(); // 0-воскресенье, 1-понедельник...
            
            // Определение рабочих часов для дня недели
            let workHours;
            if (dayOfWeek === 0) { // Воскресенье
                workHours = CONFIG.workHours.sunday;
            } else if (dayOfWeek === 6) { // Суббота
                workHours = CONFIG.workHours.saturday;
            } else { // Будни
                workHours = CONFIG.workHours.weekday;
            }
            
            const container = document.getElementById('timeSlots');
            container.innerHTML = '';
            
            // Генерация слотов с 9:00 до 20:00 с интервалом 30 минут
            for (let hour = workHours.start; hour < workHours.end; hour++) {
                // Два слота в час: :00 и :30
                ['00', '30'].forEach(minutes => {
                    const timeString = `${hour.toString().padStart(2, '0')}:${minutes}`;
                    
                    // Проверка на обеденный перерыв
                    let isBreak = false;
                    CONFIG.breaks.forEach(breakTime => {
                        if (timeString >= breakTime.start && timeString < breakTime.end) {
                            isBreak = true;
                        }
                    });
                    
                    // Пропускаем слоты после 20:00
                    if (hour === workHours.end && minutes === '30') return;
                    
                    const slot = document.createElement('div');
                    slot.className = 'time-slot';
                    slot.textContent = timeString;
                    slot.dataset.time = timeString;
                    
                    if (isBreak) {
                        slot.classList.add('booked');
                        slot.title = 'Обеденный перерыв';
                    } else {
                        // Проверка, занят ли слот
                        const isBooked = isTimeSlotBooked(dateStr, timeString);
                        if (isBooked) {
                            slot.classList.add('booked');
                            slot.title = 'Время занято';
                        } else {
                            slot.addEventListener('click', function() {
                                selectTimeSlot(timeString);
                            });
                        }
                    }
                    
                    container.appendChild(slot);
                });
            }
        }

        // Проверка, занят ли временной слот
        function isTimeSlotBooked(date, time) {
            const bookings = JSON.parse(localStorage.getItem('shinkaBookings') || '[]');
            return bookings.some(booking => 
                booking.date === date && booking.time === time
            );
        }

        // Загрузка забронированных слотов
        function loadBookedSlots() {
            // В реальном приложении здесь будет запрос к серверу
            const bookings = JSON.parse(localStorage.getItem('shinkaBookings') || '[]');
            return bookings;
        }

        // Выбор временного слота
        function selectTimeSlot(time) {
            document.getElementById('bookingTime').value = time;
            
            // Снимаем выделение со всех слотов
            document.querySelectorAll('.time-slot').forEach(slot => {
                slot.classList.remove('selected');
            });
            
            // Выделяем выбранный слот
            document.querySelectorAll('.time-slot').forEach(slot => {
                if (slot.dataset.time === time && !slot.classList.contains('booked')) {
                    slot.classList.add('selected');
                }
            });
        }

        // Показать уведомление
        function showNotification(message) {
            const notification = document.getElementById('notification');
            const textElement = document.getElementById('notificationText');
            
            textElement.textContent = message;
            notification.classList.add('show');
            
            setTimeout(() => {
                notification.classList.remove('show');
            }, 5000);
        }

        // Обработка отправки формы
        document.getElementById('bookingForm').addEventListener('submit', function(e) {
            e.preventDefault();
            
            // Сбор данных формы
            const formData = {
                name: document.getElementById('clientName').value.trim(),
                phone: document.getElementById('clientPhone').value.trim(),
                date: document.getElementById('bookingDate').value,
                time: document.getElementById('bookingTime').value,
                service: document.getElementById('serviceType').value,
                serviceName: document.getElementById('serviceType').options[document.getElementById('serviceType').selectedIndex].text,
                comment: document.getElementById('comment').value.trim(),
                bookingId: 'SHINKA-' + Date.now()
            };
            
            // Валидация
            if (!formData.time) {
                showNotification('Пожалуйста, выберите время записи');
                return;
            }
            
            if (!formData.service) {
                showNotification('Пожалуйста, выберите услугу');
                return;
            }
            
            // Сохранение в localStorage (в реальном приложении - отправка на сервер)
            const bookings = loadBookedSlots();
            bookings.push(formData);
            localStorage.setItem('shinkaBookings', JSON.stringify(bookings));
            
            // Показать подтверждение
            const confirmationMessage = `Уважаемый(ая) ${formData.name}, вы записаны на ${formData.date} в ${formData.time}. Услуга: ${formData.serviceName}. Мы свяжемся с вами для подтверждения.`;
            showNotification(confirmationMessage);
            
            // Очистка формы
            document.getElementById('bookingForm').reset();
            initDatePicker();
            generateTimeSlots();
            
            // Вывод в консоль (для отладки)
            console.log('Бронирование создано:', formData);
            
            // Здесь можно добавить отправку данных на сервер
            // sendToServer(formData);
        });

        // Функция для отправки данных на сервер
        function sendToServer(formData) {
            fetch('https://ваш-сервер.ru/api/bookings', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',
                },
                body: JSON.stringify(formData)
            })
            .then(response => response.json())
            .then(data => {
                console.log('Успешно отправлено на сервер:', data);
            })
            .catch(error => {
                console.error('Ошибка:', error);
            });
        }

        // Маска для телефона
        document.getElementById('clientPhone').addEventListener('input', function(e) {
            let value = e.target.value.replace(/\D/g, '');
            if (value.startsWith('7') || value.startsWith('8')) {
                value = '+7' + value.substring(1);
            }
            
            if (value.length > 2) {
                value = value.substring(0, 2) + ' ' + value.substring(2);
            }
            if (value.length > 6) {
                value = value.substring(0, 6) + value.substring(6);
            }
            if (value.length > 10) {
                value = value.substring(0, 10) + '-' + value.substring(10);
            }
            if (value.length > 13) {
                value = value.substring(0, 13) + '-' + value.substring(13, 15);
            }
            
            e.target.value = value;
        });
    </script>
</body>
</html>
